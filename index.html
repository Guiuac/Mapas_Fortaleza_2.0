<!DOCTYPE html>
<html>

<head>
	
<style>
/*     */
html,
body{

  font-family: Arial, sans-serif;
  height: 100%;
  margin: 0;
  padding: 0;
}
#map {
  bottom: 0px;
  height: 100%;
  left: 362px;
  position: absolute;
  right: 0px;

}

.options-box {
	background: fff;
	border: 1px solid #999;
	border-radius: 3px;
	height: 100%;
	line-height: 35px;
	padding: 10px 10px 30px 10px;
	text-align: left;
	width: 340px;
}

</style>

</head>

<body>

<div class="container">

	<div class="options-box">
		<h1>Fortaleza em Mapas: </h1>
		<div>
			<input id="show-listings" type="button" value="Mostrar Listas">
			<input id="hide-listings" type="button" value="Esconder Listas">
		</div>
	</div>

</div>


<div id="map"></div>

<script>

//Variavel que recebe o mapa e array que receberá os marcadores
	var map;
	var markers = [];

//Função para carregar o mapa
	function initMap(){


		var styles = [
  {
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#242f3e"
      }
    ]
  },
  {
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#746855"
      }
    ]
  },
  {
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#242f3e"
      }
    ]
  },
  {
    "featureType": "administrative.locality",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#d59563"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#d59563"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#263c3f"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#6b9a76"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#38414e"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "geometry.stroke",
    "stylers": [
      {
        "color": "#212a37"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9ca5b3"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#746855"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "geometry.stroke",
    "stylers": [
      {
        "color": "#1f2835"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#f3d19c"
      }
    ]
  },
  {
    "featureType": "transit",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#2f3948"
      }
    ]
  },
  {
    "featureType": "transit.station",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#d59563"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#17263c"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#515c6d"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#17263c"
      }
    ]
  }
]

		map = new google.maps.Map(document.getElementById('map'),{
			center: {lat: -3.7943731426509637, lng: -38.4524917602},
			zoom: 12,
			styles: styles,
			mapTypeControl: false
		});
		
// Array que receberá as posições para compor os marcadores
	var locations = [{title: 'AUGUSTO', location: {lat:-3.800609, lng: -38.569449}},
	{title: 'JANDERSON - Mouth Machine', location: {lat:-3.798177, lng: -38.577365}},
	{title: 'FANOR', location: {lat:-3.749484, lng: -38.462489}},
	{title: 'UNIFOR', location: {lat:-3.744798, lng: -38.572782}}
	];

var largeInfoWindow = new google.maps.InfoWindow();

	for (var i = 0; i < locations.length; i++) {
		
		var position = locations[i].location;
		var title = locations[i].title;
		var marker = new google.maps.Marker({
			map: map,
			position: position,
			title: title,
			animation: google.maps.Animation.DROP,
			id: i
		});
		markers.push(marker);
		
		
		marker.addListener('click', function(){
			populateInfoWindow(this, largeInfoWindow);
		});
	}


		
function populateInfoWindow(marker, infowindow)	{

if(infowindow.marker != marker){

	infowindow.marker = marker;
	infowindow.setContent('<div>'+ marker.title +'</div>');
	infowindow.open(map, marker);
	infowindow.addListener('closeclick', function(){
	infowindow.setMarker(null);
	});
}
}

function showListings(){
	var bounds = new google.maps.LatLngBounds();
	for (var i = 0; i < markers.length; i++) {
		markers[i].setMap(map);
		bounds.extend(markers[i].position);
		
	}

	map.fitBounds(bounds);
}

function hideListings(){

	for (var i = 0; i < markers.length;i++ ){
		markers[i].setMap(null);
	}
}


document.getElementById('show-listings').addEventListener('click', showListings);
document.getElementById('hide-listings').addEventListener('click', hideListings);

}
</script>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAX5rTVmZw4bJzlz6eQYwRbUPN6zDwkH_I&V=3&callback=initMap"> </script>

</body>

</html>